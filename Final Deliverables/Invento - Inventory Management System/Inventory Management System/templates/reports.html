<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
        <script type="text/javascript" src="jscript/graph.js"></script>
        <script
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"
        ></script>
        <link
        rel="icon"
        href="../static/images/Invento1.jpeg"
        type="image/icon type"
    />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"
        ></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous"
        ></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
            integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w=="
            crossorigin="anonymous"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
            crossorigin="anonymous"
        ></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="stylesheet"
            href="https://www.w3schools.com/w3css/4/w3.css"
        />
        <link rel="stylesheet" href="../static/css/reports.css" />
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="/"> &nbsp;&nbsp; Invento </a>
            <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="/home"
                            >Home <span class="sr-only">(current)</span></a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/addInventory"
                            >Add Inventory</a
                        >
                    </li>
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            href="/history"
                            tabindex="-1"
                            aria-disabled="true"
                            >Stock History</a
                        >
                    </li>
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            href="reports"
                            tabindex="-1"
                            aria-disabled="true"
                            >Report</a
                        >
                    </li>
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            href="/logout"
                            tabindex="-1"
                            aria-disabled="true"
                            >Logout</a
                        >
                    </li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <section>
                <div class="accordion" id="accordionExample">
                    <div class="row">
                        <div class="col-md-6">
                            <h3 class="mt-5" style="color: white">
                                Inventory Breakdown By Category
                            </h3>

                            <div
                                class="card shadow mb-2 bg-white rounded-bottom"
                            >
                                <button
                                    class="btn btn-link"
                                    type="button"
                                    style="background-color: black"
                                    data-toggle="collapse"
                                    data-target="#collapseOne"
                                    aria-expanded="true"
                                    aria-controls="collapseOne"
                                >
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-md-6 message">
                                                Food
                                            </div>
                                            <div
                                                id="tfood"
                                                class="col-md-6 message"
                                            >
                                                {{results[3]}}
                                            </div>
                                        </div>
                                    </div>
                                </button>

                                <div
                                    id="collapseOne"
                                    class="collapse"
                                    aria-labelledby="headingOne"
                                    data-parent="#accordionExample"
                                >
                                    <div class="card-body">
                                        {% for row in category[3]%} {{row}}
                                        <br />
                                        {%endfor%}
                                    </div>
                                </div>
                            </div>

                            <div class="card shadow mb-2 bg-white rounded">
                                <button
                                    class="btn btn-link"
                                    type="button"
                                    style="background-color: black"
                                    data-toggle="collapse"
                                    data-target="#collapseTwo"
                                    aria-expanded="true"
                                    aria-controls="collapseTwo"
                                >
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-md-6 message">
                                                Electronic Items
                                            </div>
                                            <div
                                                id="tentertainment"
                                                class="col-md-6 message"
                                            >
                                                {{results[2]}}
                                            </div>
                                        </div>
                                    </div>
                                </button>
                                <div
                                    id="collapseTwo"
                                    class="collapse"
                                    aria-labelledby="headingOne"
                                    data-parent="#accordionExample"
                                >
                                    <div class="card-body">
                                        {% for row in category[2]%} {{row}}
                                        <br />
                                        {%endfor%}
                                    </div>
                                </div>
                            </div>

                            <div class="card shadow mb-2 bg-white rounded">
                                <button
                                    class="btn btn-link"
                                    type="button"
                                    style="background-color: black"
                                    data-toggle="collapse"
                                    data-target="#collapseThree"
                                    aria-expanded="true"
                                    aria-controls="collapseThree"
                                >
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-md-6 message">
                                                Books
                                            </div>
                                            <div
                                                id="tbusiness"
                                                class="col-md-6 message"
                                            >
                                                {{results[0] *100 / total }}
                                            </div>
                                        </div>
                                    </div>
                                </button>
                                <div
                                    id="collapseThree"
                                    class="collapse"
                                    aria-labelledby="headingOne"
                                    data-parent="#accordionExample"
                                >
                                    <div class="card-body">
                                        {% for row in category[0]%} {{row}}
                                        <br />
                                        {%endfor%}
                                    </div>
                                </div>
                            </div>

                            <div class="card shadow mb-2 bg-white rounded">
                                <button
                                    class="btn btn-link"
                                    type="button"
                                    style="background-color: black"
                                    data-toggle="collapse"
                                    data-target="#collapseFour"
                                    aria-expanded="true"
                                    aria-controls="collapseFour"
                                >
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-md-6 message">
                                                Furniture
                                            </div>
                                            <div
                                                id="trent"
                                                class="col-md-6 message"
                                            >
                                                {{results[4]}}
                                            </div>
                                        </div>
                                    </div>
                                </button>
                                <div
                                    id="collapseFour"
                                    class="collapse"
                                    aria-labelledby="headingOne"
                                    data-parent="#accordionExample"
                                >
                                    <div class="card-body">
                                        {% for row in category[4]%} {{row}}
                                        <br />
                                        {%endfor%}
                                    </div>
                                </div>
                            </div>

                            <div class="card shadow mb-2 bg-white rounded">
                                <button
                                    class="btn btn-link"
                                    type="button"
                                    style="background-color: black"
                                    data-toggle="collapse"
                                    data-target="#collapseSix"
                                    aria-expanded="true"
                                    aria-controls="collapseSix"
                                >
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-md-6 message">
                                                Cosmetics
                                            </div>
                                            <div
                                                id="temi"
                                                class="col-md-6 message"
                                            >
                                                {{results[1]}}
                                            </div>
                                        </div>
                                    </div>
                                </button>
                                <div
                                    id="collapseSix"
                                    class="collapse"
                                    aria-labelledby="headingOne"
                                    data-parent="#accordionExample"
                                >
                                    <div class="card-body">
                                        {% for row in category[1]%} {{row}}
                                        <br />
                                        {%endfor%}
                                    </div>
                                </div>
                            </div>

                            <div class="card shadow mb-2 bg-white rounded">
                                <button
                                    class="btn btn-link"
                                    type="button"
                                    style="background-color: black"
                                    data-toggle="collapse"
                                    data-target="#collapseFive"
                                    aria-expanded="true"
                                    aria-controls="collapseFive"
                                >
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-md-6 message">
                                                Miscellaneous
                                            </div>
                                            <div
                                                id="tother"
                                                class="col-md-6 message"
                                            >
                                                {{results[5]}}
                                            </div>
                                        </div>
                                    </div>
                                </button>
                                <div
                                    id="collapseFive"
                                    class="collapse"
                                    aria-labelledby="headingOne"
                                    data-parent="#accordionExample"
                                >
                                    <div class="card-body">
                                        {% for row in category[5]%} {{row}}
                                        <br />
                                        {%endfor%}
                                    </div>
                                </div>
                            </div>

                            <div
                                class="card shadow mb-2 btn-outline-danger rounded-pill"
                            >
                                <div class="card-body total">
                                    <div class="row">
                                        <div class="col-md-6 message1">
                                            Total
                                        </div>
                                        <div class="col-md-6 message1">
                                            {{total}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-top: 50px">
                            <canvas
                                id="myChart"
                                width="400"
                                height="400"
                            ></canvas>
                            <script>
                                var ctx = document
                                    .getElementById("myChart")
                                    .getContext("2d");
                                var myChart = new Chart(ctx, {
                                    type: "doughnut",
                                    data: {
                                        labels: [
                                            "Books",
                                            "Cosmetics",
                                            "Electronic Items",
                                            "Food",
                                            "Furniture",
                                            "Miscellaneous",
                                        ],
                                        datasets: [
                                            {
                                                label: "Stocks Chart",
                                                data: {{results}},
                                                backgroundColor: [
                                                    "rgb(255, 99, 132)",
                                                    "rgb(0, 0, 255)",
                                                    "rgb(255, 205, 86)",
                                                    "rgb(201, 203, 207)",
                                                    "rgb(0, 255, 0)",
                                                    "rgb(215, 0, 0)",
                                                ],
                                            },
                                        ],
                                    },
                                    options: {
                                        responsive: true,
                                        plugins: {
                                            legend: {
                                                position: "bottom",
                                            },
                                            title: {
                                                display: true,
                                                text: "STOCK BREAKDOWN",
                                            },
                                        },
                                    },
                                });
                            </script>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </body>
</html>
